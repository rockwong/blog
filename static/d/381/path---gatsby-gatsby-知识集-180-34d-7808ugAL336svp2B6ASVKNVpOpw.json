{"data":{"markdownRemark":{"html":"<h1>Gatsby 知识集</h1>\n<h2>基本目录结构</h2>\n<pre><code class=\"language-sh\">.\n├── gatsby-config.js\n├── package.json\n└── src\n    ├── html.jsx\n    ├── pages\n    │   ├── index.jsx\n    │   └── posts\n    │       ├── 01-01-2017\n    │       │   └── index.md\n    │       ├── 01-02-2017\n    │       │   └── index.md\n    │       └── 01-03-2017\n    │           └── index.md\n    ├── templates\n    │   └── post.jsx\n    │\n    └── layouts\n        └── index.jsx\n</code></pre>\n<h2>模板文件</h2>\n<p>示例 ：<code>src/templates/post.jsx</code>\n将以此页面渲染 markdown 文件。</p>\n<pre><code class=\"language-jsx\">import React from \"react\";\n\nclass BlogPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark;\n\n    return (\n      &#x3C;div>\n        &#x3C;h1>{post.frontmatter.title}&#x3C;/h1>\n        &#x3C;div dangerouslySetInnerHTML={{ __html: post.html }} />\n      &#x3C;/div>\n    );\n  }\n}\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n      }\n    }\n  }\n`;\n</code></pre>\n<h2>布局组件</h2>\n<p>用于设置网站公用部分，如果header、footer，可以根据location 属性筛选是否应用的模板。\n<code>src/layouts/index.jsx</code> </p>\n<pre><code class=\"language-jsx\">import React from \"react\";\nimport Navigation from \"../components/Navigation/Navigation.jsx\";\n\nexport default class Template extends React.Component {\n  render() {\n    if (this.props.location.pathname !== \"/\") {\n      return &#x3C;Navigation>{this.props.children()}&#x3C;/Navigation>;\n    } else {\n      return this.props.children();\n    }\n  }\n}\n</code></pre>","frontmatter":{"title":"Gatsby 知识集"}}},"pageContext":{"slug":"/notes/Gatsby 知识集/","tagPath":"/Gatsby/Gatsby 知识集/"}}