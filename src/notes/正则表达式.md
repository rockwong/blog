---
tags: [Notebooks/Javascript]
title: 正则表达式
created: '2019-02-25T14:15:27.037Z'
modified: '2019-02-25T14:18:17.497Z'
---

# 正则表达式
###参考
>  <http://deerchao.net/tutorials/regex/regex.htm>
> 《精通正则表达式》

##常用元字符

代码	|	说明
-----|-----
.	|	匹配除换行符以外的任意字符
\w	|	匹配字母或数字或下划线或汉字
\s	|	匹配任意的空白符
\d	|	匹配数字
\b	|	匹配单词的开始或结束
^	|	匹配字符串的开始
$	|	匹配字符串的结束
[]	|	匹配列出的任意字符
`|`	|	匹配分割两边的任意表达式

##反义

代码	|	说明
 -----|-----
\W		|	匹配任意不是字母，数字，下划线，汉字的字符
\S		|	匹配任意不是空白符的字符
\D		|	匹配任意非数字的字符
\B		|	匹配不是单词开头或结束的位置
`[^x]	`|	匹配除了x以外的任意字符
`[^aeiou]` |	匹配除了aeiou这几个字母以外的任意字符

> 例子：``` \S+ ```匹配不包含空白符的字符串。

##常用的限定符

代码	|	说明
 -----|-----
*		|	重复零次或更多次
+		|	重复一次或更多次
?		|	重复零次或一次
{n}		|	重复n次
{n,}		|	重复n次或更多次
{n,m}	|	重复n到m次

##条件分支
设定几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用 ` | ` 把不同的规则分隔开
> 从左到右地测试每个条件，如果满足了某个分枝的话，就不会去再管其它的条件

##分组

如果想要重复或操作多个字符,可以用小括号来指定子**表达式**(也叫做分组)

**向后引用**

用于重复搜索前面某个分组匹配的文本。例如，`\1`代表分组1匹配的文本(\0 为整个表达式)

重复字母：`/(\w+).*\1/.test('abcdea')`

代码	|	说明
 -----  |   -----
(exp)	        |	匹配exp,并捕获文本到自动命名的组里
(?:exp)	     |	匹配exp,但不添加到命名的组里（会比上一条性能更好）

## 匹配位置

类似 `\b`、`^`、`$` 用于指定一个位置，该位置满足一定的条件即表达式或断言

代码	|	说明  | 范例 |  结果
 -----  |   ----- | ----- | -----
(?=exp)	     |	匹配exp前面的位置 | 'abc'.replace(/(?=bc)/g,'@') | a@bc
(?<=exp)		  |	匹配exp后面的位置 | 'abc'.replace(/(?<=bc)/g,'@') | abc@
(?!exp)		  |	匹配后面跟的不是exp的位置 | 'abc'.replace(/(?!bc)/g,'@') | @ab@c@
(?<!exp)		  |	匹配前面不是exp的位置 | 'abc'.replace(/(?<!bc)/g,'@') | @a@b@c

## 贪婪与懒惰

`贪婪匹配` 重复的限定符的通常行为是匹配尽可能多的字符
`懒惰匹配` 重复的限定符的尽可能匹配少的字符


```js
'abcabc'.replace(/a.*c/,'@') // 贪婪 @ 

'abcabc'.replace(/a.*?c/,'@') // 懒惰 @abc 
```



代码	|	说明
 -----|-----
*?	    |   重复任意次，但尽可能少重复
+?	    |   重复1次或更多次，但尽可能少重复
??	    |   重复0次或1次，但尽可能少重复
{n,m}? |   	重复n到m次，但尽可能少重复
{n,}?	  |   重复n次以上，但尽可能少重复

## 正则表达式标志
代码	|	说明
 -----|-----
g	    |   	全局搜索。
i	    |   	不区分大小写搜索。
m	    |   	多行搜索。
y	    |   	执行“粘性”搜索,匹配从目标字符串的当前位置开始，可以使用y标志。

## 常用特殊字符
代码	|	说明
 -----|-----
\b	    |   	通常是单词分界位置，但如果在字符类里使用代表退格
\t		 |   制表符，Tab
\r		 |   回车
\f		 |   换页符
\n		 |   换行符


## String.prototype.replace()  正则的字符串参数

变量名	  |	代表的值
 ----- | -----
$$		 | 插入一个 "$"。
$&		 | 插入匹配的子串。
$`		 | 插入当前匹配的子串左边的内容。
$'		 | 插入当前匹配的子串右边的内容。
$n		 | 插入第 n 个括号匹配的字符串。提示：索引是从1开始


## 表达式

汉字：`^[\u4e00-\u9fa5]$`

含有`^%&',;=?$\"`等字符 ： ` [^%&',;=?$\x22]+ `

含有~的字符：`[^~\x22]+`

空白行：`\n\s*\r `

HTMl标记：`<(\S?)[^>]*>|<.* />`
