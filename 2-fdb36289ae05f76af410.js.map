{"version":3,"sources":["webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/side.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","useStaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","createContext","props","createElement","Consumer","staticQueryData","data","query","render","children","useContext","context","Error","propTypes","PropTypes","object","string","isRequired","func","Slide","state","activeNav","listObj","itemClick","url","e","preventDefault","console","log","navigate","navClick","navName","_this","setState","checkIsCurrent","pathname","withPrefix","encodeURI","globalHistory","location","init","defaultActiveNav","listObjWidthNavName","list","filter","item","Boolean","node","fields","reduce","obj","index","date","frontmatter","modified","moment","format","push","locationName","window","split","decodeName","decodeURI","componentDidMount","this","componentWillReceiveProps","nextProps","_this2","siteTitle","_this$state","navList","Object","keys","map","react_default","className","key","onClick","length","excerptList","tagPath","id","dangerouslySetInnerHTML","__html","emoji","toImage","title","excerpt","Fragment","href","gatsby_browser_entry","to","PureComponent","array","defaultProps","Layout","side_Slide","site","siteMetadata","allMarkdownRemark","edges","_2945309751","m","module","exports","require","default","ProdPageRenderer","_ref","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","assign","json","shape"],"mappings":"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","file":"2-fdb36289ae05f76af410.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import { Link, navigate, withPrefix } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport React from 'react';\nimport { globalHistory } from '@reach/router';\nimport emoji from 'emojione';\n\nexport default class Slide extends React.PureComponent {\n  static propTypes = {\n    siteTitle: PropTypes.string,\n    list: PropTypes.array,\n  };\n\n  static defaultProps = {\n    siteTitle: ``,\n    list: [],\n  };\n\n  state = {\n    activeNav: '',\n    listObj: {},\n  };\n\n  componentDidMount() {\n    this.init();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.list !== this.props.list) {\n      this.init(nextProps);\n    }\n  }\n\n  itemClick = url => e => {\n    e.preventDefault();\n    console.log('navClick==', url);\n    navigate(url);\n  };\n\n  navClick = navName => e => {\n    e.preventDefault();\n    this.setState({ activeNav: navName });\n  };\n\n  checkIsCurrent = pathname => withPrefix(encodeURI(pathname)) === globalHistory.location.pathname;\n\n  init = (props = this.props) => {\n    let defaultActiveNav;\n    const listObjWidthNavName = props.list\n      .filter(item => Boolean(item.node.fields.navName))\n      .reduce((obj, item, index) => {\n        const navName = item.node.fields.navName;\n\n        // init activeNav\n        if (index === 0 && !this.state.activeNav) defaultActiveNav = navName;\n        // format date\n        const unknownDate = 'Unknown date';\n        const date = item.node.frontmatter.modified;\n        if (date && date !== unknownDate) {\n          item.date = moment(date).format('YYYY/DD/MM HH:mm');\n        } else {\n          item.date = unknownDate;\n        }\n\n        // datalist zip width obj\n        obj[navName] = obj[navName] || [];\n        obj[navName].push(item);\n        return obj;\n      }, {});\n\n    // 通过 location 判断默认 nav\n    const locationName = window.location.pathname.split('/')[1];\n    const decodeName = decodeURI(locationName);\n    console.log(\n      this.state.activeNav,\n      '= this.state.activeNav=',\n      decodeName,\n      '  defaultActiveNav=',\n      defaultActiveNav,\n    );\n\n    if (decodeName && listObjWidthNavName[decodeName]) {\n      defaultActiveNav = decodeName;\n    }\n    this.setState({ listObj: listObjWidthNavName, activeNav: defaultActiveNav });\n  };\n\n  render() {\n    const { siteTitle } = this.props;\n    const { activeNav, listObj } = this.state;\n    // nav list\n    const navNameList = Object.keys(listObj);\n    const navList = navNameList.map((navName, index) => (\n      <li className=\"pure-menu-item\" key={index}>\n        <a\n          onClick={this.navClick(navName)}\n          className={`pure-menu-link ${activeNav === navName ? 'active' : ''}`}\n        >\n          {navName}\n          <span className=\"email-count\">({listObj[navName].length})</span>\n        </a>\n      </li>\n    ));\n\n    // excerpt list1\n    const excerptListData = listObj[activeNav] || [];\n    const excerptList = excerptListData.map(item => (\n      <div\n        onClick={this.itemClick(item.node.fields.tagPath)}\n        className={`email-item  pure-g ${\n          this.checkIsCurrent(item.node.fields.tagPath)\n            ? 'email-item-unread email-item-selected'\n            : ''\n        }`}\n        key={item.node.id}\n      >\n        <div className=\"pure-u-1\">\n          <h5 className=\"email-name\">\n            {item.date} · {item.node.fields.navName}\n          </h5>\n          <h4\n            className=\"email-subject\"\n            dangerouslySetInnerHTML={{ __html: emoji.toImage(item.node.frontmatter.title) }}\n          />\n          <p className=\"email-desc\">{item.node.excerpt}</p>\n        </div>\n      </div>\n    ));\n\n    return (\n      <>\n        <div id=\"nav\" className=\"pure-u\">\n          <a href=\"#\" className=\"nav-menu-button\">\n            Menu\n          </a>\n\n          <div className=\"nav-inner\">\n            <Link to=\"/\" className=\"primary-button pure-button\">\n              {siteTitle}\n            </Link>\n\n            <div className=\"pure-menu\">\n              <ul className=\"pure-menu-list\">\n                {navList}\n                <li className=\"pure-menu-heading\">Personal</li>\n                <li className=\"pure-menu-item\">\n                  <Link to=\"/about\" className=\"pure-menu-link\">\n                    <span className=\"email-label-personal\" />\n                    About\n                  </Link>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div id=\"list\" className=\"pure-u-1\">\n          {excerptList}\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Side from './side';\nimport './pure.css';\nimport './email.css';\n\nconst Layout = props => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n        allMarkdownRemark {\n          edges {\n            node {\n              id\n              frontmatter {\n                title\n                tags\n                modified\n              }\n              fields {\n                slug\n                navName\n                tagPath\n              }\n              excerpt\n            }\n          }\n        }\n      }\n    `}\n    render={data => (\n      <div id=\"layout\" className=\"content pure-g\">\n        <Side siteTitle={data.site.siteMetadata.title} list={data.allMarkdownRemark.edges} />\n        <div id=\"main\" className=\"pure-u-1\">\n          {props.children}\n        </div>\n      </div>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}