{"version":3,"sources":["webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/side.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","useStaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","createContext","props","createElement","Consumer","staticQueryData","data","query","render","children","useContext","context","Error","propTypes","PropTypes","object","string","isRequired","func","console","log","emoji","globalHistory","Slide","state","activeNav","listObj","itemClick","url","e","preventDefault","push","navClick","navName","_this","setState","checkIsCurrent","pathname","encodeURI","location","init","listObjWidthNavName","list","filter","item","Boolean","node","fields","reduce","obj","index","date","frontmatter","modified","moment","format","componentDidMount","this","locationName","window","split","decodeName","decodeURI","componentWillReceiveProps","nextProps","_this2","siteTitle","_this$state","navList","Object","keys","map","react_default","className","key","onClick","length","excerptList","tagPath","id","dangerouslySetInnerHTML","__html","toImage","title","excerpt","Fragment","href","gatsby_browser_entry","to","PureComponent","array","defaultProps","Layout","side_Slide","site","siteMetadata","allMarkdownRemark","edges","_2945309751","m","module","exports","require","default","ProdPageRenderer","_ref","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","assign","json","shape"],"mappings":"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","file":"2-c9dec0095a3ae57c89cd.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import { Link, push } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport React from 'react';\nimport { Match, globalHistory } from '@reach/router';\nimport emoji from 'emojione';\n\nconsole.log('emojione===', emoji);\n\nconsole.log('globalHistory==', globalHistory);\n\nexport default class Slide extends React.PureComponent {\n  static propTypes = {\n    siteTitle: PropTypes.string,\n    list: PropTypes.array,\n  };\n\n  static defaultProps = {\n    siteTitle: ``,\n    list: [],\n  };\n\n  state = {\n    activeNav: '',\n    listObj: {},\n  };\n\n  componentDidMount() {\n    this.init();\n    const locationName = window.location.pathname.split('/')[1];\n    const decodeName = decodeURI(locationName);\n    if (decodeName) this.setState({ activeNav: decodeName });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.list !== this.props.list) {\n      this.init(nextProps);\n    }\n  }\n\n  itemClick = url => e => {\n    e.preventDefault();\n    push(url);\n  };\n\n  navClick = navName => e => {\n    e.preventDefault();\n    this.setState({ activeNav: navName });\n  };\n\n  checkIsCurrent = pathname => encodeURI(pathname) === globalHistory.location.pathname;\n\n  init = (props = this.props) => {\n    const listObjWidthNavName = props.list\n      .filter(item => Boolean(item.node.fields.navName))\n      .reduce((obj, item, index) => {\n        const navName = item.node.fields.navName;\n\n        // init activeNav\n        console.log('index==', index, ' navName==', navName);\n        if (index === 0 && !this.state.activeNav) this.setState({ activeNav: navName });\n\n        // format date\n        const unknownDate = 'Unknown date';\n        const date = item.node.frontmatter.modified;\n        if (date && date !== unknownDate) {\n          item.node.frontmatter.modified = moment(date).format('YYYY/DD/MM HH:mm');\n        } else {\n          item.node.frontmatter.modified = unknownDate;\n        }\n\n        // datalist zip width obj\n        obj[navName] = obj[navName] || [];\n        obj[navName].push(item);\n        return obj;\n      }, {});\n    this.setState({ listObj: listObjWidthNavName });\n  };\n\n  render() {\n    const { siteTitle } = this.props;\n    const { activeNav, listObj } = this.state;\n    console.log('slide props=', this.props);\n    // nav list\n    const navNameList = Object.keys(listObj);\n    const navList = navNameList.map((navName, index) => (\n      <li className=\"pure-menu-item\" key={index}>\n        <a\n          onClick={this.navClick(navName)}\n          className={`pure-menu-link ${activeNav === navName ? 'active' : ''}`}\n        >\n          {navName}\n          <span className=\"email-count\">({listObj[navName].length})</span>\n        </a>\n      </li>\n    ));\n\n    // excerpt list1\n    console.log('this.state==', this.state);\n    const excerptListData = listObj[activeNav] || [];\n    const excerptList = excerptListData.map(item => (\n      <div\n        onClick={this.itemClick(item.node.fields.tagPath)}\n        className={`email-item  pure-g ${\n          this.checkIsCurrent(item.node.fields.tagPath)\n            ? 'email-item-unread email-item-selected'\n            : ''\n        }`}\n        key={item.node.id}\n      >\n        <div className=\"pure-u-1\">\n          <h5 className=\"email-name\">\n            {item.node.frontmatter.modified} · {item.node.fields.navName}\n          </h5>\n          <h4\n            className=\"email-subject\"\n            dangerouslySetInnerHTML={{ __html: emoji.toImage(item.node.frontmatter.title) }}\n          />\n          <p className=\"email-desc\">{item.node.excerpt}</p>\n        </div>\n      </div>\n    ));\n\n    return (\n      <>\n        <div id=\"nav\" className=\"pure-u\">\n          <a href=\"#\" className=\"nav-menu-button\">\n            Menu\n          </a>\n\n          <div className=\"nav-inner\">\n            <Link to=\"/\" className=\"primary-button pure-button\">\n              {siteTitle}\n            </Link>\n\n            <div className=\"pure-menu\">\n              <ul className=\"pure-menu-list\">\n                {navList}\n                <li className=\"pure-menu-heading\">Personal</li>\n                <li className=\"pure-menu-item\">\n                  <a href=\"#\" className=\"pure-menu-link\">\n                    <span className=\"email-label-personal\" />\n                    About\n                  </a>\n                </li>\n                <li className=\"pure-menu-item\">\n                  <a href=\"#\" className=\"pure-menu-link\">\n                    <span className=\"email-label-work\" />\n                    Work\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div id=\"list\" className=\"pure-u-1\">\n          {excerptList}\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Side from './side';\nimport './pure.css';\nimport './email.css';\n\nconst Layout = props => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n        allMarkdownRemark {\n          edges {\n            node {\n              id\n              frontmatter {\n                title\n                tags\n                modified\n              }\n              fields {\n                slug\n                navName\n                tagPath\n              }\n              excerpt\n            }\n          }\n        }\n      }\n    `}\n    render={data => (\n      <div id=\"layout\" className=\"content pure-g\">\n        <Side siteTitle={data.site.siteMetadata.title} list={data.allMarkdownRemark.edges} />\n        <div id=\"main\" className=\"pure-u-1\">\n          {props.children}\n        </div>\n      </div>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}